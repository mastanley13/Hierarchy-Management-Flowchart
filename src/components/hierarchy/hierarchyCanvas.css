.hierarchy-canvas {
  position: relative;
  flex: 1;
  width: 100%;
  height: auto;
  min-height: var(--vh-canvas-min-height, 420px);
  background: radial-gradient(circle at 0% -10%, rgba(96, 245, 161, 0.08), transparent 55%),
    radial-gradient(circle at 90% 20%, rgba(125, 211, 252, 0.08), transparent 60%),
    var(--bg-canvas);
  overflow: hidden;
}

.hierarchy-canvas .react-flow__background {
  opacity: 0.35;
}

.hierarchy-canvas .react-flow__controls {
  background: rgba(10, 19, 32, 0.9);
  border-radius: 16px;
  border: 1px solid rgba(96, 245, 161, 0.45);
  box-shadow: 0 16px 32px rgba(7, 14, 25, 0.5), inset 0 0 0 1px rgba(15, 23, 42, 0.8);
  bottom: 16px;
  left: 16px;
}

.visual-hierarchy-page[data-theme='light'] .hierarchy-canvas .react-flow__controls {
  background: #ffffff;
  border: 1px solid rgba(203, 213, 225, 0.8);
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.1);
}

.hierarchy-canvas .react-flow__controls button {
  background: linear-gradient(180deg, rgba(15, 23, 42, 0.8), rgba(11, 18, 32, 0.95));
  border-bottom: 1px solid rgba(96, 245, 161, 0.18);
  color: rgba(255, 255, 255, 0.92);
  font-weight: 500;
  transition: background 140ms ease, color 140ms ease, box-shadow 140ms ease;
}

.visual-hierarchy-page[data-theme='light'] .hierarchy-canvas .react-flow__controls button {
  background: #ffffff;
  border-bottom: 1px solid rgba(203, 213, 225, 0.6);
  color: #0f172a;
}

.hierarchy-canvas .react-flow__controls button:hover {
  color: #0b141f;
  background: linear-gradient(180deg, rgba(96, 245, 161, 0.9), rgba(56, 189, 248, 0.55));
  box-shadow: inset 0 0 0 1px rgba(9, 13, 22, 0.2);
}

.hierarchy-canvas .react-flow__controls button svg {
  width: 14px;
  height: 14px;
  color: #ffffff;
  fill: currentColor;
  stroke: currentColor;
  opacity: 0.95;
  transition: color 140ms ease, opacity 140ms ease;
}

.hierarchy-canvas .react-flow__controls button:hover svg {
  color: #0b141f;
}

.visual-hierarchy-page[data-theme='light'] .hierarchy-canvas .react-flow__controls button:hover svg {
  color: #0f172a;
}

.hierarchy-canvas .react-flow__controls button:last-child {
  border-bottom: none;
}

.hierarchy-canvas .react-flow__minimap {
  background: rgba(17, 24, 39, 0.8);
  border-radius: 12px;
  border: 1px solid rgba(125, 211, 252, 0.24);
}

.visual-hierarchy-page[data-theme='light'] .hierarchy-canvas .react-flow__minimap {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(203, 213, 225, 0.8);
}

@media (max-width: 768px) {
  .hierarchy-canvas .react-flow__minimap {
    display: none;
  }
}
